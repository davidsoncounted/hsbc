window.pwsUtils&&function(d){var f=d.jQuery;if(!f.xfaWidget.defaultWidget)return!1;var c=f.xfaWidget.defaultWidget;d._.extend(c.prototype,{getOptionsMap:function(){var b=c._proto.getOptionsMap.apply(this,arguments);return f.extend({},b,{id:function(b){b&&this.$userControl.attr("id",b)},inputMode:function(b){b&&this.$userControl.attr("inputmode",b)}})}})}(window);
window.pwsUtils&&function(d){var f=d._,c=d.jQuery;d=d.guidelib;if(!d.view.GuideTermsAndConditionsView)return!1;var b=xfalib.ut.XfaUtil.prototype.detectIE(),g={showLink:!1,scrollMode:"vertical",textAreaClass:".guide-tnc-content",checkBoxClass:".guide-tnc-checkbox",checkBoxDisableClass:".guide-tnc-checkbox-disabled",checkBoxReviewedClass:".guide-tnc-checkbox-reviewed",linkClass:".guide-tnc-link",documentVisitedClass:".guide-tnc-document-visited",documentUnVisitedClass:".guide-tnc-document-unvisited"},
h=function(a,e){this.options=e;this.$element=c(a);this.enters=this.leaves=0;this.inside=!1;this.reviewdoc=this.status="unreviewed";this.$elementCheckBox=this.$element.find(this.options.checkBoxClass||g.checkBoxClass);this.$elementTextArea=c(this.textArea());this.$elementLink=c(this.link());this.isTextContentVisible=!1;this.options.showLink?this.$elementLink.find("a").click(c.proxy(this.handleReviewStatusChange,this)):(a=function(){var a=this.$elementTextArea.parent();!a.hasClass("noContent")&&this.hasScrollBar(a[0])?
a.scroll(c.proxy(this.handleReviewStatusChange,this)):"none"!==this.$elementTextArea.css("display")&&(this.status="reviewed",this.isTextContentVisible=!0,this.options.showAsPopUp||this.enableCheckBox(),this.reviewDoc=this.$elementTextArea.text())},"complete"===document.readyState?a.call(this):c(c.proxy(a,this)));if(this.options.showAsPopUp){var k=this.options.documentUnVisitedClass||g.documentUnVisitedClass,d=this.options.documentVisitedClass||g.documentVisitedClass,f=this;a=this.$elementCheckBox.find("a").keydown(function(a){if(13===
a.keyCode||13==a.which||32===a.charCode)return c(this).click(),!1}).click(function(a){c(this).hasClass(k.substring(1))&&c(this).toggleClass(d.substring(1)+" "+k.substring(1));(b||f.isTextContentVisible)&&f.enableCheckBox()}).attr("href");c(a).on("hidden.bs.modal",function(a){f.$elementCheckBox.find("input").focus()})}else this._updateScreenReaderText();this.$elementCheckBox.find("input").change(c.proxy(this.handleCheckBoxChange,this))};h.prototype={clear:function(){this.$element.val("")},destroy:function(){this.$element.val("");
this.$element.empty()},_updateScreenReaderText:function(){if(!this.options.showAsPopUp){var a=this;this.$element.find(".guide-tnc-sr-only").each(function(b,e){c(this).html(a.options.screenReaderText)})}},_restoreClickState:function(a){if(this.options.showLink){a=a.split("\n");var b=[];f.each(a,function(a,l){b.push(f.last(a.split("\x3d")))});var e=this.options.documentUnVisitedClass||g.documentUnVisitedClass,d=this.options.documentVisitedClass||g.documentVisitedClass;this.$elementLink.find("a").each(function(a){c(this).data("clicked",
b[a]);"1"===b[a]?c(this).addClass(d.substring(1)):c(this).addClass(e.substring(1))})}},value:function(a){if(a)this.options.showLink&&this._restoreClickState(a),this.reviewDoc=a;else return this.reviewDoc},reviewStatus:function(a){this.getClickState();if(f.isUndefined(a)){if("reviewed"==this.status||"unreviewed"==this.status)return"unreviewed"===this.status&&(this.$elementCheckBox.find("input").removeAttr("checked").attr("aria-checked",!1),this.$elementCheckBox.find("input").removeProp("checked")),
null;if("agree"==this.status)return!0}else{if("true"==a)this.enableCheckBox(),this.$elementCheckBox.find("input").attr("checked","checked").attr("aria-checked",!0),this.$elementCheckBox.find("input").prop("checked",!0);else if(null==a||"false"==a)this.$elementCheckBox.find("input").removeAttr("checked").attr("aria-checked",!1),this.$elementCheckBox.find("input").removeProp("checked");this.approvalStatus=a}},clickStatus:function(a){if(a){if("reviewed"===a){var b=this.getClickState();f.isArray(b)&&
0<b.length&&(b=b.join("\n"),this._restoreClickState(b));this.enableCheckBox()}this.status=a}else return this.status},showLink:function(a){if(void 0!==a)this.options.showLink=a;else return this.options.showLink},access:function(a){this.accessOption=a;"readOnly"==a?(this.disableCheckBox(),this.options.showLink&&this.$elementLink.find("a").each(function(a,b){c(b).css("pointer-events","none");c(b).attr("disabled","disabled")})):"open"==a&&("reviewed"!=this.status&&"agree"!=this.status||this.options.showAsPopUp||
this.enableCheckBox(),this.options.showLink&&this.$element.find("a").each(function(a,b){c(b).css("pointer-events","");c(b).removeAttr("disabled")}))},link:function(){return this.$element.find(this.options.linkClass||g.linkClass)},textArea:function(){return this.$element.find(this.options.textAreaClass||g.textAreaClass)},getClickState:function(){if(this.options.showLink){var a=[];this.$elementLink.find("a").each(function(b){a.push({displayText:c(this).text(),linkText:c(this).attr("href"),clicked:c(this).data("clicked")})});
return a}},enableCheckBox:function(){"readOnly"!==this.accessOption&&(this.$elementCheckBox.find("input").removeAttr("disabled"),this.$elementCheckBox.removeClass(this.options.checkBoxDisableClass.substring(1)))},disableCheckBox:function(){this.$elementCheckBox.find("input").attr("disabled","disabled");this.$elementCheckBox.addClass(this.options.checkBoxDisableClass.substring(1))},handleReviewStatusChange:function(a){var b=[],e=this.options.documentVisitedClass||g.documentVisitedClass;if(this.options.showLink)this.status=
"reviewed",c(a.target).data("clicked",1),c(a.target).addClass(e.substring(1)),this.linkStateMap=this.getClickState(),f.each(this.linkStateMap,function(a,e){a.clicked||(this.status="unreviewed");b.push(a.displayText+"\x3d"+a.linkText+"\x3d"+(f.isUndefined(a.clicked)?"0":"1"))},this),0<b.length&&(this.reviewDoc=b.join("\n")),"reviewed"==this.status&&this.enableCheckBox(),this.$element.trigger("reviewComplete.tnc");else{e=this.getScroll(this.$elementTextArea.get(0));var d=e["vertical"==this.options.scrollMode?
"y":"x"],h=this.getScrollSize(this.$elementTextArea.get(0)).y-this.getSize(this.$elementTextArea.get(0)).y;this.reviewDoc=this.$elementTextArea.text();d>=h?this.inside||(this.inside=!0,this.enters++,this.status="reviewed",this.enableCheckBox(),this.$element.trigger("reviewComplete.tnc",[e,this.enters,a])):this.inside&&(this.inside=!1,this.leaves++)}},handleCheckBoxChange:function(a){c(a.target).is(":checked")?(this.status="agree",this.$elementCheckBox.addClass(this.options.checkBoxReviewedClass.substring(1))):
(this.status="unreviewed",this.$elementCheckBox.removeClass(this.options.checkBoxReviewedClass.substring(1)));this.$element.trigger("checkboxStateChange.tnc")},getScrollSize:function(a){return{x:a.scrollWidth,y:a.scrollHeight}},getScroll:function(a){return{x:a.scrollLeft,y:a.scrollTop}},getSize:function(a){return{x:a.offsetWidth,y:a.offsetHeight}},hasScrollBar:function(a){return!1}};c.fn.afTnc=function(a,b){var e="";this.each(function(){var k=c(this),d=k.data("AfTnc"),l=c.extend({},g,"object"===typeof a&&
a);d||k.data("AfTnc",d=new h(this,l));"string"===typeof a&&(e=d[a](b))});return e};f.extend(d.view.GuideTermsAndConditionsView.prototype,{tempXfaFixes:function(){this.$widget&&this.$widget.css("position","relative");this.handleAccessibility()},handleAccessibility:function(){this._model.reviewStatus&&this._model.reviewStatus.mandatory&&this.$widget.find("input:checkbox").attr("aria-required",!0)}});var e=c.xfaWidget.tnc;f.extend(e.prototype,{getOptionsMap:function(){var a=e._proto.getOptionsMap.apply(this,
arguments);return c.extend({},a,{isValid:function(a){this.$checkbox||(this.$checkbox=this.$userControl.find("input:checkbox"));a?this.$checkbox.removeAttr("aria-invalid"):this.$checkbox.attr("aria-invalid",!0)}})}})}(window);
window.pwsUtils&&function(d){var f=d._,c=d.guidelib;if(!c.view.GuideFieldView)return!1;f.extend(c.view.GuideFieldView.prototype,{_newWidget:function(b,c,d){var e=null,a=["dateInputWidget","inputGroupWidget"];a=b==this._defaultWidgetName||-1<a.indexOf(b);try{d[b](c),e=d.data(b)||d.data("xfaWidget-"+b)}catch(k){this.logger().error("AF","widget "+b+" doesn't exists. Falling back to default widget"),a=!0,e=d[this._defaultWidgetName](c).data("xfaWidget-"+b)}a&&this.tempXfaFixes();return e},_markMandatory:function(){var b=
this.$element.find(".guideFieldLabel .pws-required");this._model.mandatory&&this.$element?(this.$element.attr("data-mandatory","true"),this.$widget&&this.$widget.find("input,textarea,select,button").attr("aria-required",!0),b&&b.removeClass("hidden")):(this.$element.removeAttr("data-mandatory"),this.$widget&&this.$widget.find("input,textarea,select,button").removeAttr("aria-required"),b&&b.addClass("hidden"),this._model._failedTest===this.guideUtil.MANDATORY_TEST&&(c.runtime.errorManager.unMarkError(this.$element,
this._model.somExpression),this.$element.removeClass("validation-failure")))},handleAccessibility:function(){this._model.mandatory&&this.$widget.find("input,textarea,select,button").attr("aria-required",!0);this._model._getScreenReaderText()===this._model._getToolTip()&&(this.$element.find("input,textarea,select,button").removeAttr("aria-label"),this.$element.find("input,textarea,select,button").attr("aria-labelledby",this._model.id+"_guideFieldShortDescription"));this._model.longDescription&&(this.$element.find("input,textarea,select,button").attr("aria-describedby",
this._model.id+"_guideFieldLongDescription"),this.$element.find(".guideHelpQuestionMark").attr("role","button").attr("aria-expanded",!1).attr("aria-label",this._model.jsonModel.toolTipDesc||"tool tip").on("click",function(){var b=$(this).data("guide-longdescription");(b=$("#"+b))&&$(this).attr("aria-expanded",!b.is(":visible"))}));this._model.jsonModel.hintText&&this.$element.find("input,textarea,select").attr("aria-describedby",this._model.id+"_hintText")},_changeTitle:function(b){var c=$("#"+this.id).children(".guideFieldLabel").children("label, span.label");
c&&c.html(b)}});f.extend(c.model.Field.prototype,{checkIfNull:function(b){return null==b||!(!b.trim||""!==b.trim())}})}(window);
window.pwsUtils&&function(d){var f=d._;d=d.guidelib;if(!d.view.GuideCheckBoxView)return!1;var c=d.view.GuideCheckBoxView;f.extend(c.prototype,{initialize:function(){c._super.initialize.apply(this,arguments)},getStateFromValue:function(b,c){return null===b?1:-1!==(b+"").split(this._model&&this._model.jsonModel.displaySeparator||",").indexOf(c[0]+"")?0:1},handleCommit:function(){var b=[],c=[],d=this._model&&this._model.jsonModel.displaySeparator||",";f.each(this.jqwidget,function(e,a){a=e.option("values");
var d=e.option("screenReaderText")||e.option("value");0===e.option("state")&&(c.push(d),b.push(a[0]))},this);this._model.displayValue=c.join(d);this.commitValue(b.join(d))},handleAccessibility:function(){c._super.handleAccessibility.apply(this,arguments);var b=this.$element.find(".guideFieldLabel span.label").get(0),d=this.$widget.find(":input");0<d.length&&(d.removeAttr("aria-label"),1<d.length&&this.$element.attr("role","group"));b&&b.id&&this.$element.attr("aria-labelledby",b.id)}});f.extend($.xfaWidget.XfaCheckBox.prototype,
{_getItemSkeleton:function(b){return'\x3cdiv class\x3d"'+("radio"===b?"guideRadioButtonItem":"guideCheckBoxItem")+" "+("radio"===b?"afRadioButtonItem":"afCheckBoxItem")+' {NAME_PLACEHOLDER} {CSS_PLACEHOLDER}" data-original-title\x3d"" title\x3d""\x3e\n            \x3cdiv class\x3d"guideFieldWidget left XfaCheckBox" data-id\x3d"{COUNTER_PLACEHOLDER}" data-original-title\x3d"" title\x3d""\x3e\n                \x3cinput type\x3d"'+b+'" id\x3d"{TEMPLATE_ID_PLACEHOLDER}_{COUNTER_PLACEHOLDER}_widget" name\x3d"{TEMPLATE_ID_PLACEHOLDER}_jqName" value\x3d"-100" tabindex\x3d"0" placeholder\x3d"" style\x3d"position: relative;"\x3e\n                \x3ci class\x3d"indicator"\x3e\x3c/i\x3e\n            \x3c/div\x3e\n            \x3cdiv class\x3d"guideWidgetLabel right"\x3e\n                \x3clabel\x3e{LABEL_PLACEHOLDER}\x3c/label\x3e\n            \x3c/div\x3e\n        \x3c/div\x3e'}})}(window);
window.pwsUtils&&function(d){var f=d.jQuery,c=d.guidelib;if(!c.view.GuideContainerView)return!1;c=c.view.GuideContainerView;var b=c.prototype.initialize;d._.extend(c.prototype,{initialize:function(){b.apply(this,arguments);"4502"!==d.location.port&&f(d).off("keydown.guides")}})}(window);
window.pwsUtils&&function(d){function f(a){var b=a.match(/[^0-9]/i);a=a.split(b);return c.find(a,function(a){return 4===a.length})}var c=d._,b=d.jQuery,g=d.guidelib;if(!g.view.GuideDatePickerView)return!1;var h=g.view.GuideDatePickerView,e=h.prototype.createWidgetOptions,a=h.prototype._initializeWidget;c.extend(h.prototype,{_initializeWidget:function(){a.apply(this,arguments);if(this.$widget)b(this.$widget).on("onvaluechange.datetimepicker",b.proxy(this.handleChange,this))},handleChange:function(a,
b){(a=b.selectedDate)&&(a=xfalib.ut.PictureFmt.parse(a,this._model.displayPictureClause))&&this.commitValue(a)},createWidgetOptions:function(){var a=(new Date).toISOString().slice(0,10);this._model.jsonModel.useTodayAsMinimum&&this._model.setAttribute(a,"minimum");this._model.jsonModel.useTodayAsMaximum&&this._model.setAttribute(a,"maximum");a=e.apply(this,arguments);return b.extend({},a,{hideField:this._model.jsonModel.hideField})},handleAccessibility:function(){h._super.handleAccessibility.apply(this,
arguments);this.$widget.children("div[tabIndex]").removeAttr("tabIndex");var a=this.$widget.find(".datepicker-calendar-icon");a&&(a.attr("tabIndex",0).attr("role","button").attr("aria-haspopup",!0).attr("aria-label",this._model.jsonModel.iconDesc||"select date"),a.on("keydown keypress",function(b){13!=b.keyCode&&13!=b.charCode&&13!=b.which||a.click()}))}});var k=g.model.GuideDatePicker;c.extend(k.prototype,{_minMaxValidation:function(a,b){null!=a&&b.validFlag&&(this.maximum&&(b.validFlag=this._runMaximumValueTest(),
b.validFlag||(a=this._getFormattedValue(this.maximum),this._errorText=this.jsonModel.maximumMessage||(this.exclusiveMaximum?this.guideUtil.getLocalizedMessage("",g.i18n.strings.exclusiveMaxValErrorMessage,[a]):this.guideUtil.getLocalizedMessage("",g.i18n.strings.maxValErrorMessage,[a])),this._failedTest=this.guideUtil.MAXIMUM_VALUE_TEST)),b.validFlag&&null!==this.minimum&&(b.validFlag=this._runMinimumValueTest(),b.validFlag||(b=this._getFormattedValue(this.minimum),this._errorText=this.jsonModel.minimumMessage||
(this.exclusiveMinimum?this.guideUtil.getLocalizedMessage("",g.i18n.strings.exclusiveMinValErrorMessage,[b]):this.guideUtil.getLocalizedMessage("",g.i18n.strings.minValErrorMessage,[b])),this._failedTest=this.guideUtil.MINIMUM_VALUE_TEST)))},_calculateAge:function(){var a=(new Date).toISOString().slice(0,10).split("-"),b=a[2],e=a[1],c=a[0],d=this.value.split("-");a=parseInt(d[2]);var k=parseInt(d[1]);d=parseInt(d[0]);c-=d;0>e-k?c--:0==e-k&&0>b-a&&c--;return Math.max(c,0)},_runMaximumAgeTest:function(){var a=
this._calculateAge();return this.jsonModel.exclusiveMaxAge?a<this.jsonModel.maximumAge:a<=this.jsonModel.maximumAge},_runMinimumAgeTest:function(){var a=this._calculateAge();return this.jsonModel.exclusiveMinAge?a>this.jsonModel.minimumAge:a>=this.jsonModel.minimumAge},_minMaxAgeValidation:function(a,b){null!=a&&b.validFlag&&(this.jsonModel.maximumAge&&(b.validFlag=this._runMaximumAgeTest(),b.validFlag||(this._errorText=this.jsonModel.maximumAgeMessage||"your age can not over "+this.jsonModel.maximumAge,
this._failedTest="maximumAgeTest")),b.validFlag&&null!=this.jsonModel.minimumAge&&(b.validFlag=this._runMinimumAgeTest(),b.validFlag||(this._errorText=this.jsonModel.minimumAgeMessage||"your age can not under "+this.jsonModel.minimumAge,this._failedTest="minimumAgeTest")))},_runValidations:function(a){var b=this.value;k._super._runValidations.call(this,a);this._datatypeValidation(a);this._minMaxValidation(b,a);this._minMaxAgeValidation(b,a)},_setGuideValue:function(a){k._super._setGuideValue.call(this,
a)},_getTypedValue:function(a){if(a){var b=xfalib.ut.DateInfo.Parse(a);null!==b&&(b=f(a)?b.getISODate():a);return b?b:a}return null},_datatypeValidation:function(a){if(a.validFlag){var b=this.getAttribute("_value");a.validFlag=!0;null==b||null!=xfalib.ut.DateInfo.Parse(b)&&f(b)||(a.validFlag=!1);a.validFlag||(this._errorText=this.jsonModel.validateExpMessage||g.util.GuideUtil.getLocalizedMessage("",g.i18n.strings.datatypeMessage,["date"]),this._failedTest=this.guideUtil.FORMAT_TEST)}},_getFormattedValue:function(a){if(c.isUndefined(a)||
null===a||""===a)return null;var b=this.jsonModel.displayPictureClause;if(b&&f(a))try{var e=xfalib.ut.PictureFmt.format(a+"",b,null,!0);return null!=e&&""!==e?e:a}catch(r){}return a}});var n=b.xfaWidget.dateTimeEdit;c.extend(n.prototype,{getOptionsMap:function(){var a=n._proto.getOptionsMap.apply(this,arguments);return b.extend({},a,{screenReaderText:function(a){a&&this.$userControl.attr("aria-label",a)}})},getCommitValue:function(){if(!1===this._nativeWidget){var a=this.$userControl.adobeDateTimePicker("value"),
e=this.parseEditValue(a);return f(a)?e:a}return b.xfaWidget.defaultWidget.prototype.getCommitValue.apply(this,arguments)},getEditValue:function(a){if(null==this.options.editPattern)return a;try{return f(a)?xfalib.ut.PictureFmt.format(a,this.options.editPattern):a}catch(q){return null}}});var m=xfalib.ut.XfaUtil.prototype,p=b.xfaWidget.dateInputWidget;c.extend(p.prototype,{_getCombFieldValue:function(a){return this.combFieldControls[a].numericInputWidget.option("value")},_isHiddenField:function(a){return this.options.hideField&&
this.options.hideField===a},_getConcatenatedValue:function(){var a=this;return this.combFieldOrder.reduce(function(b,e){var c=a._getCombFieldValue(e);a._isHiddenField(e)&&(c="Y"===e?"2020":"01");return b?b+a.separator+c:c},"")},_getCombFieldOptions:function(a,b,e){return{commitEvent:m.XFA_EXIT_EVENT,zero:this.options.zero,dataType:"integer",placeholder:a,combCells:b||2,screenReaderText:e,inputMode:"numeric"}},_initializeCombFields:function(){var a={D:this._getCombFieldOptions(this.options.placeholderDay),
M:this._getCombFieldOptions(this.options.placeholderMonth),Y:this._getCombFieldOptions(this.options.placeholderYear,4)},e=this;this.separator=this.options.dateFormat.match(/^date\{.*([^mdy]).*\}$/i)[1];this.combFieldControls={D:{cssClass:"comb-form-group-day",regex:/^(?:0?[1-9]|1[0-9]|2[0-9]|3[01])$/,placeholder:this.options.placeholderDay,label:this.options.labelDay},M:{cssClass:"comb-form-group-month",regex:/^(?:0?[1-9]|1[012])$/,placeholder:this.options.placeholderMonth,label:this.options.labelMonth},
Y:{cssClass:"comb-form-group-year",regex:/^[0-9]{4}$/,placeholder:this.options.placeholderYear,label:this.options.labelYear}};this.element.find("[data-dateInput-wrapper]").each(function(d){b(this).addClass("comb-datefield");var k=b(this).find("input"),f=e.combFieldOrder[d],h=e._getCombFieldControl(d);d=h.cssClass+(new Date).getTime();var g=b(this).children("[data-dateInput-label]");0==g.length&&(g=b(document.createElement("label")).attr("data-dateInput-label"),k.before(g));g.text(h.label).attr("for",
d).addClass("showTitle");e.options.hideLabels&&g.addClass("sr-only");k.attr("id",d);k.addClass(h.cssClass);e.options.hideField===f&&b(this).addClass("hidden");c.isUndefined(b.xfaWidget.numericInput)||(h.numericInputWidget=k.numericInput(a[f]).data("xfaWidget-numericInput"),k.css("position","relative"),h.value=null,b(this).on(m.XFA_EXIT_EVENT,function(){e.options.value=e.getCommitValue();h.value=h.numericInputWidget.option("value");h.numericInputWidget.option("displayValue",h.value);e.element.trigger(m.XFA_CHANGE_EVENT);
e.element.trigger(m.XFA_EXIT_EVENT)}).on(m.XFA_CHANGE_EVENT,function(a){a.stopPropagation()}))})},render:function(){this.combFieldOrder=this._getFieldOrder(this.options.dateFormat);this._initializeCombFields();return this.element},getCommitValue:function(){var a=this._getConcatenatedValue(),b=this._parseDate(a);return c.isUndefined(b)?a:b},getOptionsMap:function(){var a=p._proto.getOptionsMap();this.options.role="group";delete a.tabIndex;return a}})}(window);
window.pwsUtils&&function(d){var f=d._,c=d.jQuery;if(!guidelib.view.GuideDropDownListView)return!1;d=guidelib.view.GuideDropDownListView;var b=d.prototype.createWidgetOptions;f.extend(d.prototype,{createWidgetOptions:function(){var d=b.call(this,arguments);if(this._model.jsonModel.useDataSource){var f=this.$element.find("select").data("data-json");if(f){var e=c.map(f,function(a){return a.save+"\x3d"+a.display});this._model.jsonModel.options=e;return c.extend({},d,{items:f})}}return d}});f.extend(c.xfaWidget.dropDownList.prototype,
{widgetSkeleton:'\x3cselect name\x3d"" style\x3d"" size\x3d"1"\x3e\x3coption id\x3d"emptyValue" value\x3d""\x3e\x3c/option\x3e\x3c/select\x3e',_attachEventHandlers:function(){}})}(window);
window.pwsUtils&&function(d){var f=d._,c=d.jQuery,b=d.guidelib;if(!b.view.GuideTextBoxView)return!1;var g=b.view.GuideTextBoxView,h=g.prototype.createWidgetOptions;f.extend(g.prototype,{createWidgetOptions:function(){var a=h.apply(this,arguments);return c.extend({},a,{inputMode:this._model.jsonModel.inputMode||""})},handleAccessibility:function(){g._super.handleAccessibility.apply(this,arguments);this.$widget.children("div[tabIndex]").removeAttr("tabIndex")}});var e=b.model.GuideTextBox;f.extend(e.prototype,
{_runValidations:function(a){e._super._runValidations.call(this,a);a.validFlag&&(null!=this.length?(a.validFlag=this._runTotalLengthTest(),a.validFlag||(this._errorText=this.jsonModel.totalLengthMessage||this.guideUtil.getLocalizedMessage("",b.i18n.strings.totalLengthMessage,[this.length]),this._failedTest=this.guideUtil.LENGTH_TEST)):null!=this.minLength&&(a.validFlag=this._runMinimumLengthTest(),a.validFlag||(this._errorText=this.jsonModel.minimumMessage||this.guideUtil.getLocalizedMessage("",b.i18n.strings.minimumLengthMessage,
[this.minLength]),this._failedTest=this.guideUtil.MINIMUM_LENGTH_TEST)))}});var a=c.xfaWidget.textField;f.extend(a.prototype,{_selectOnFocusInIE:function(){a._proto._selectOnFocusInIE.apply(this,arguments);try{xfalib.ut.Utilities.isIE11()&&(this.$userControl[0].selectionStart=this.$userControl.val().length)}catch(k){}}})}(window);
window.pwsUtils&&function(d){var f=d._,c=d.guidelib;if(!c.view.GuidePanelView)return!1;f.extend(c.view.GuidePanelView.prototype,{handleAccessibility:function(){var b=this._model._getScreenReaderText();b&&this.$itemNav.attr("aria-label",b)},setActive:function(b,c,h){this._model._lazyReference&&f.isUndefined(this._viewCreationInProgress)&&f.isUndefined(this._itemsLoaded)&&this._guideView._currentActiveItemView!==this&&this._loadLazyFragment();var e=this.getOrElse(this.currentActiveItemView,"qualifiedName",
null);b=b||e||"firstItem";if(b!=e){var a=this._model.navigationContext.getItemForNav(b);if(!a)return this.logger().log("AF","activeItemToken not found:"+b+",currentActiveItem:"+e+":"+this._model.somExpression),!1;b=this.getQualifiedNamedView(a._escapeQualifiedName());if(!h&&this._model.completionExpReq&&this.currentActiveItemView&&this.currentActiveItemView.focusable()&&this.childViews.indexOf(b)>this.childViews.indexOf(this.currentActiveItemView)){e=!0;this._model.getAttribute("validateOnStepCompletion")&&
(e=d.guideBridge.validate([],this._model.panel.navigationContext.currentItem.somExpression));e=e&&this._model.executeExpression("completionExp");if(!e)return!1;this.currentActiveItemView&&(this.currentActiveItemView.$item.addClass("completed"),this.currentActiveItemView.$itemNav.addClass("completed"))}this.currentActiveItemView=b}this.currentActiveItemView&&this.currentActiveItemView.setActive(null,c,h);f.each(this.childViews,function(a){a.$itemNav.removeAttr("aria-selected");a.$itemNav.removeAttr("aria-disabled")},
this);return!0}})}(window);window.pwsUtils&&function(d){var f=d.guidelib;if(!f.view.GuideTextDrawView)return!1;var c=f.view.GuideTextDrawView;d._.extend(c.prototype,{initialize:function(){c._super.initialize.call(this)}})}(window);
window.pwsUtils&&function(d){var f=d._,c=d.jQuery,b=d.guidelib;if(!b.model.GuideNumericBox)return!1;d=b.view.GuideNumericBoxView;var g=d.prototype.createWidgetOptions;f.extend(d.prototype,{createWidgetOptions:function(){var b=g.apply(this,arguments);return c.extend({},b,{inputMode:this._model.jsonModel.inputMode||"decimal"})}});f.extend(b.model.GuideNumericBox.prototype,{_minMaxValidation:function(c,e){null!=c&&e.validFlag&&(this.maximum&&(e.validFlag=this._runMaximumValueTest(),e.validFlag||(c=this._getFormattedValue(this.maximum),
this._errorText=this.jsonModel.maximumMessage||(this.exclusiveMaximum?this.guideUtil.getLocalizedMessage("",b.i18n.strings.exclusiveMaxValErrorMessage,[c]):this.guideUtil.getLocalizedMessage("",b.i18n.strings.maxValErrorMessage,[c])),this._failedTest=this.guideUtil.MAXIMUM_VALUE_TEST)),e.validFlag&&null!==this.minimum&&(e.validFlag=this._runMinimumValueTest(),e.validFlag||(e=this._getFormattedValue(this.minimum),this._errorText=this.jsonModel.minimumMessage||(this.exclusiveMinimum?this.guideUtil.getLocalizedMessage("",
b.i18n.strings.exclusiveMinValErrorMessage,[e]):this.guideUtil.getLocalizedMessage("",b.i18n.strings.minValErrorMessage,[e])),this._failedTest=this.guideUtil.MINIMUM_VALUE_TEST)))},_datatypeValidation:function(c){if(c.validFlag){var e=this.getAttribute("_value");c.validFlag=!isNaN(e);c.validFlag||(this._errorText=this.jsonModel.validateExpMessage||b.util.GuideUtil.getLocalizedMessage("",b.i18n.strings.datatypeMessage,["numeric"]),this._failedTest=this.guideUtil.FORMAT_TEST)}}});f.extend(c.xfaWidget.numericInput.prototype,
{_attachEventHandlers:function(b){c.xfaWidget.defaultWidget.prototype._attachEventHandlers.apply(this,arguments);b.keyup(c.proxy(this._handleKeyUp,this))},_handleKeyUp:function(){var b=this.$userControl.val().replace(/[^0-9\.]/g,""),e=-1<b.indexOf("."),a=0<this.options.leadDigits?12<this.options.leadDigits?12:this.options.leadDigits:12,c=3<this.options.fracDigits?3:this.options.fracDigits,d=b.split(".")[0]||"";b=b.split(".")[1]||"";d.length>a&&(d=d.slice(0,a));b.length>c&&(b=b.slice(0,c));this.$userControl.val(d+
(e?".":"")+b)}})}(window);
window.pwsUtils&&function(){function d(b,a){if(b){var e={"{{pre}}":a[0],"{{main}}":a[1],"{{suf}}":a[2]};return b.replace(/{{pre}}|{{main}}|{{suf}}/g,function(a){return e[a]||""})}return a.join("")}var f=window._,c=window.jQuery;if(!guidelib.view.GuideTextBoxView)return!1;var b=xfalib.ut.XfaUtil.prototype,g=guidelib.view.GuideTextBoxView,h=g.prototype.createWidgetOptions;f.extend(g.prototype,{_getInitialGroupValue:function(){var b=this._model.jsonModel;return d(b.valueFormat,[b.prefixValue||"",b.mainValue||
"",b.suffixValue||""])},_getFieldOptions:function(b){var a=this._model.jsonModel,c=a[b+"UseDataSource"]&&this.$element.find("."+b+" select");return{title:a[b+"Title"],placeholder:a[b+"Placeholder"],value:a[b+"Value"],regex:"dropdown"===a[b+"Type"]?"":a[b+"Pattern"],type:a[b+"Type"],readOnly:a[b+"ReadOnly"],options:a[b+"Options"],maxChars:a[b+"MaxChars"],dataJson:c&&c.data("data-json")}},createWidgetOptions:function(){var b=h.call(this,arguments),a=this._model.jsonModel;return"inputGroupWidget"===
this.$widget.data("afWidgetname")?(this._model.jsonModel._value=this._getInitialGroupValue(),c.extend({},b,{value:this._getInitialGroupValue(),inputGroup:{id:this._model.id+"_widget",name:this._model.name,mandatory:a.mandatory,valueFormat:a.valueFormat,displayPattern:a.displayPictureClause,valuePattern:a.validatePictureClause,customValidationType:a.customValidationType,prefix:this._getFieldOptions("prefix"),main:this._getFieldOptions("main"),suffix:this._getFieldOptions("suffix")}})):b}});c.widget("xfaWidget.inputGroupWidget",
c.xfaWidget.textField,{_widgetName:"inputGroupWidget",_convertOptions:function(b){var a=[];b&&f.each(b,function(b){b=b.split("\x3d");a.push({save:b[0],display:b[1]||b[0]})});return a},_getCombFieldOptions:function(e){var a=this.inputGroupOptions[e];e={id:this.inputGroupOptions.id+"_"+e,name:this.inputGroupOptions.name+"_"+e,commitEvent:b.XFA_EXIT_EVENT,placeholder:a.placeholder,value:a.value};if("dropdown"===a.type){var d=this._convertOptions(a.options);a.dataJson&&(d=a.dataJson);return c.extend({},
e,{items:d})}return c.extend({},e,{displayValue:a.value})},_getInputWidget:function(b,a,c){return"dropdown"===a?b.parent(".dropDownList").dropDownList(c).data("xfaWidgetDropDownList"):b.textField(c).data("xfaWidgetTextField")},_initializeCombFields:function(){this.inputGroupOptions=this.options.inputGroup;var e={prefix:this._getCombFieldOptions("prefix"),main:this._getCombFieldOptions("main"),suffix:this._getCombFieldOptions("suffix")},a=this;this.combFieldControls={prefix:this.inputGroupOptions.prefix,
main:this.inputGroupOptions.main,suffix:this.inputGroupOptions.suffix};this.element.find(".input-wrapper").each(function(){var d=c(this).data("input-type"),f=c(this).find(":input"),g=a.combFieldControls[d];g.readOnly&&f.attr("readOnly",!0);f.css("position","relative");g.inputWidget=a._getInputWidget(f,g.type,e[d]);g.value=null;c(this).on(b.XFA_EXIT_EVENT,function(){g.value=g.inputWidget.option("value");g.maxChars&&(g.value=g.value.slice(0,g.maxChars),g.inputWidget.option("value",g.value));g.inputWidget.option("displayValue",
g.value);a.options.value=a.getCommitValue();a.element.trigger(b.XFA_CHANGE_EVENT);a.element.trigger(b.XFA_EXIT_EVENT)}).on(b.XFA_CHANGE_EVENT,function(a){a.stopPropagation()})})},_isValid:function(){var b=!0,a=this.getCommitValue();this.inputGroupOptions.displayPattern&&(b=(new RegExp(this.inputGroupOptions.displayPattern)).test(a));this.inputGroupOptions.valuePattern&&(b=(new RegExp(this.inputGroupOptions.valuePattern)).test(a));this.customValidationType&&"none"!==this.customValidationType&&window._validateCommon&&
(b=window._validateCommon({value:a,mandatory:this.inputGroupOptions.mandatory}));return b},_isCombFieldValid:function(b,a){b=this.combFieldControls[b];a=a||b.inputWidget.option("value");return f.isEmpty(a)||(b.regex?(new RegExp(b.regex)).test(a):!0)},render:function(){this._initializeCombFields();return this.element},getOptionsMap:function(){var d=c.xfaWidget.defaultWidget.prototype.getOptionsMap.apply(this,arguments);delete d.tabIndex;this.options.role="group";return c.extend({},d,{value:function(a){if(f.isEmpty(a))f.each(this.combFieldControls,
function(a){a.value="";a.inputWidget.option("value","");a.inputWidget.option("displayValue","")});else{var d=(a+"").split("-"),e=this;this.element.find(":input").each(function(a){var b=c(this).parent(".input-wrapper").data("input-type"),f=e.combFieldControls[b];a=d[a]||"";e._isCombFieldValid(b,a)?(f.value=a,f.inputWidget.option("value",a),f.inputWidget.option("displayValue",a)):(f.value="",f.inputWidget.option("value",""),f.inputWidget.option("displayValue",""))});this.options.value=this.getCommitValue();
this.element.trigger(b.XFA_CHANGE_EVENT);this.element.trigger(b.XFA_EXIT_EVENT)}}})},getCommitValue:function(){var b=[],a=this.inputGroupOptions.valueFormat;f.each(this.combFieldControls,function(a){b.push(a.inputWidget&&a.inputWidget.option("value")||"")});return d(a,b)}})}(window);
window.pwsUtils&&function(d){function f(){var c=["guideTextDraw","guideButton"],a=pwsUtils.getParamsData();h.visit(function(e){var f=e instanceof g.model.Field&&0>c.indexOf(e.className),h=e instanceof g.model.GuideCompositeField&&"guideTermsAndConditions"===e.className;if(f||h){f=a[e.name];var k=b("#"+e.id),l=k.find(":input"),q="guideDatePicker"===e.className;if(f)if(h){if((h=e.jsonModel.optionValue?e.jsonModel.optionValue.toLowerCase():"")&&h===f.toLowerCase()||!h&&"true"===f)e.reviewStatus.value=
"true",e.reviewStatus.executeExpression("change")}else"guideDropDownList"===e.className?-1<b.map(e.items,function(a){return a.split("\x3d")[0]}).indexOf(f)&&(e.value=f,e.executeExpression("change")):(e.value=f,e.executeExpression("change"));l&&l.each(function(){if(q){var a=!1;k.find("input,.datepicker-calendar-icon").on("focus",function(){a=!0});b(d).on("keydown keyup click",function(c){a&&(c=b(c.target),0==k.find(c).length&&0==b(".datetimepicker").find(c).length&&(a=!1,e.validate([])))})}else b(this).on("blur",
function(a){e.validate([])})})}})}function c(){var c=b("a[href^\x3dtel]");pwsUtils.isMobile()||c.addClass("no-link").attr("role","presentation").click(function(a){a.preventDefault()})}var b=d.jQuery,g=d.guidelib,h=d.guideBridge;if(!h)return!1;b(function(){b("body").off("click");b(".guideContainerFormSubmitButton").remove();b('a[target\x3d"_blank"]',".PWSRootPanel").attr("rel","noopener noreferrer nofollow");f();c()})}(window);