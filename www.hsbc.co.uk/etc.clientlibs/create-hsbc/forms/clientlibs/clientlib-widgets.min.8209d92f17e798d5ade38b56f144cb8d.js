window.generateStamp=1715247316684,function(){"use strict";var t=class{constructor(){this.initDone=!1,this.attempts=0}init(t,e,i){this.initDone||e||this.attempts>1e3||("undefined"==typeof guidelib||void 0===guidelib.view||"undefined"==typeof xfalib||void 0===xfalib.$||void 0===xfalib.$.xfaWidget||i&&i()?(this.attempts++,setTimeout((()=>this.init(t,e,i)),10)):t&&(this.initDone=!0,t()))}};class e{constructor(t){const{inputValue:e,numericBoxInstance:i,inputChar:s,stringValue:n,decimalSeparator:a,fracDigits:o,isUnknownKeyCode:r,caret:l}=t;this.value=e,this.inputChar=s,this.offset=0,this.numericBoxInstance=i,this.stringValue=n,this.decimalSeparator=a,this.fracDigits=o,this.isUnknownKeyCode=r,this.caret=l}_hasDuplicateChar(t,e){return t.indexOf(e)!==t.lastIndexOf(e)}handleMinusSignPressed(){!this._hasDuplicateChar(this.stringValue,"-")&&this.stringValue.startsWith("-")||(this.value="".concat(this.stringValue.slice(0,this.caret-1)).concat(this.stringValue.slice(this.caret)),this.offset=-1)}handleSeparatorPressed(){this.stringValue.indexOf(this.decimalSeparator)>-1?(this.inputChar!==this.decimalSeparator||this._hasDuplicateChar(this.stringValue,this.decimalSeparator))&&this.isUnknownKeyCode&&(this.value="".concat(this.stringValue.slice(0,this.caret-1)).concat(this.stringValue.slice(this.caret)),this.offset=-1):this.stringValue?this.inputChar!==this.decimalSeparator&&(this.isUnknownKeyCode?(this.value="".concat(this.stringValue.slice(0,this.caret-1)).concat(this.decimalSeparator).concat(this.stringValue.slice(this.caret)),this.offset=0):(this.value="".concat(this.stringValue.slice(0,this.caret)).concat(this.decimalSeparator).concat(this.stringValue.slice(this.caret)),this.offset=1)):(this.value=this.decimalSeparator,this.offset=0)}handleFracDigitsValues(){const t=this.value.split(this.decimalSeparator);t[1]&&t[1].length>this.fracDigits&&(this.value="".concat(this.value.slice(0,this.caret-1)).concat(this.value.slice(this.caret)),this.offset=-1)}handleInvalidValues(){const t=this._replaceDuplicateDecimal().split("").filter((t=>this.numericBoxInstance._isValidChar(t)));this.value=t.join("")}_replaceDuplicateDecimal(){return this.value.replace("..",this.decimalSeparator).replace(",,",this.decimalSeparator).replace(".,",this.decimalSeparator).replace(",.",this.decimalSeparator)}}function i(t){if(t){const e=t.match(/[^0-9]/i),i=t.split(e),s=4;return i.find((t=>t.length===s))}return!1}(new t).init((()=>{!function(t){const{guideBridge:i,xfalib:s,_:n,navigator:a,$:o}=t,{numericInput:r}=s.$.xfaWidget;n.extend(r.prototype,{_matchArray:{integer:"^[+-]?{digits}{leading}$",decimal:"^[+-]?{digits}{leading}({decimal}{digits}{fraction})?$",float:"^[+-]?{digits}{leading}({decimal}{digits}{fraction})?$"},_getNumericNode(){const t=this.element[0].parentElement.getAttribute("name");return i.resolveNode(t)},_isValidChar(t){const e=this._getNumericNode(),i=e?e.jsonModel.decimalSeparator:".";return t>="0"&&t<="9"||"-"===t||t===i},_fixSeparator(t){const e=this._getNumericNode()||{jsonModel:{},value:""},{jsonModel:{decimalSeparator:i=""}}=e,{dataType:s}=this.options;"integer"!==s&&this._fixDecimalSeparator(t,i)},_fixCharsForDecimalSeparator(t,e){if(!t)return;const{fracDigits:i}=this.options,{keyCode:s,which:n,target:{value:a,selectionStart:o}}=t,r=String(a),l=r.slice(o-1,o),d=229===s||229===n,u=this._getDecimalInputHandler(t,e,i,d);this._isSeparatorPressed(l,s||n)?u.handleSeparatorPressed():d&&"-"===l&&u.handleMinusSignPressed(),u.handleInvalidValues(),d&&i&&o>=u.value.indexOf(e)&&u.handleFracDigitsValues();const{value:h,offset:p}=u;r!==h&&(t.target.value=h,(d||p)&&(t.target.selectionStart=o+p,t.target.selectionEnd=o+p))},_fixDecimalSeparator(t,e){const i=/android|iphone|ipad|ipod|ios/i.test(a.userAgent);setTimeout((()=>{this._fixCharsForDecimalSeparator(t,e)}),i?50:0)},_getDecimalInputHandler(t,i,s,n){const{target:{value:a,selectionStart:o}}=t,r=String(a),l=r.slice(o-1,o);return new e({inputValue:a,numericBoxInstance:this,inputChar:l,stringValue:r,decimalSeparator:i,fracDigits:s,isUnknownKeyCode:n,caret:o})},_isSeparatorPressed(t,e){const i={",":188,".":190};return 229===e?Object.keys(i).indexOf(t)>-1:Object.values(i).indexOf(e)>-1},_attachEventHandlers(t){t.keydown(o.proxy((t=>{this._fixSeparator(t),this._handleKeyDown()}),this)),t.keypress(o.proxy(this._handleKeyPress,this)),t.on("paste",o.proxy(this._handlePaste,this)),t.on("cut",o.proxy(this._handleCut,this)),this._overwritePatterns(),this._fixDefaultValue()},_fixDefaultValue(){const t=this._getNumericNode()||{jsonModel:{}},{name:e}=t.jsonModel;if(e){const t=o('[name="'.concat(e,'"]')).find("input"),i=t.attr("value");setTimeout((()=>{t.val(i)}),100)}},_overwritePatterns(){const t=this._getNumericNode()||{jsonModel:{}},{decimalSeparator:e=""}=t.jsonModel;let i=this._matchArray[this.options.dataType];if(i){const t=this.options.leadDigits,s=this.options.fracDigits,n=t&&-1!==t?"{0,".concat(t,"}"):"*",a=-1!==s?"{0,".concat(s,"}"):"*";i=i.replace("{leading}",n).replace("{fraction}",a);const o=i.replace(/{digits}/g,this._getDigits()).replace("{decimal}","\\".concat(e)),r=i.replace(/{digits}/g,"[0-9]").replace("{decimal}","\\".concat(e));this._processValue=!("[0123456789]"===this._getDigits()&&e),this._regex=new RegExp(o,"g"),this._engRegex=new RegExp(r,"g")}}})}(window)}),window.pwsUtils),(new t).init((function(t){!function(t){const{guidelib:e}=t;let{$:i}=t;void 0===i&&(i=t.Bootstrap.jQuery);const{GuideDatePickerView:s}=e.view,n=s.prototype.createWidgetOptions;s.prototype=Object.assign(s.prototype,{createWidgetOptions(){const t=(new Date).toISOString().slice(0,10);this._model.jsonModel.useTodayAsMinimum&&this._model.setAttribute(t,"minimum"),this._model.jsonModel.useTodayAsMaximum&&this._model.setAttribute(t,"maximum");const e=n.apply(this,arguments);return i.extend({},e,{hideField:this._model.jsonModel.hideField})}})}(t||window),function(t){const{guidelib:e,xfalib:s}=t,n=e.model.GuideDatePicker;n.prototype=Object.assign(n.prototype,{_setGuideValue(t){n._super._setGuideValue.call(this,t)},_getTypedValue(t){if(t){let e=s.ut.DateInfo.Parse(t);return null!==e&&(e=i(t)?e.getISODate():t),e||t}return null}})}(t||window),i()}),window.pwsUtils),(new t).init((function(t){const e=t||xfalib,i=e.ut.XfaUtil.prototype,s=e.$.xfaWidget.dateInputWidget;s.prototype=Object.assign(s.prototype,{_getCombFieldValue(t){return this.combFieldControls[t].numericInputWidget.option("value")},_isHiddenField(t){return this.options.hideField&&this.options.hideField===t},_getConcatenatedValue(){return this.combFieldOrder.reduce(((t,e)=>{let i=this._getCombFieldValue(e);return i="Y"===e&&1===String(i).length?"0".concat(i):i,this._isHiddenField(e)&&(i="Y"===e?"2020":"01"),t?t+this.separator+i:i}),"")},_getCombFieldOptions(t,e,s){return{commitEvent:i.XFA_EXIT_EVENT,zero:this.options.zero,dataType:"integer",placeholder:t,combCells:e||2,screenReaderText:s,inputMode:"numeric"}},_shortDateInput(t){const e=t[0].value;String(e).length>2&&(t[0].value=t[0].value.toString().slice(-2))},_greyOutElements(t){const e=t.querySelector(".hsf-date-input-label"),i=t.querySelector(".hsf-date-input-separator");i&&(i.style.opacity=.5),e&&(e.style.opacity=.5)},_waitUntilLoaded(t,e,i,s){setTimeout((()=>{"Y"===t&&2===e.numericInputWidget.options.combCells&&this._shortDateInput(i),"readOnly"===e.numericInputWidget.options.access&&this._greyOutElements(s)}),10)},_getAllcombFieldOptions(){const t="date{D/M/YY}"===this.options.dateFormat?2:4;return{D:this._getCombFieldOptions(this.options.placeholderDay),M:this._getCombFieldOptions(this.options.placeholderMonth),Y:this._getCombFieldOptions(this.options.placeholderYear,t)}},_getAllcombFieldControls(){return{D:{cssClass:"comb-form-group-day",regex:/^(?:0?[1-9]|1[0-9]|2[0-9]|3[01])$/,placeholder:this.options.placeholderDay,label:this.options.labelDay},M:{cssClass:"comb-form-group-month",regex:/^(?:0?[1-9]|1[012])$/,placeholder:this.options.placeholderMonth,label:this.options.labelMonth},Y:{cssClass:"comb-form-group-year",regex:/^[0-9]{4}$/,placeholder:this.options.placeholderYear,label:this.options.labelYear}}},_handleLabelForCombField(t,e,i){let s=t.querySelector("[data-dateInput-label]");const n=t.querySelector("input");s||(s=document.createElement("label"),s.setAttribute("data-dateInput-label",""),n.before(s)),s.textContent=e.label,s.setAttribute("for",i),s.classList.add("showTitle"),this.options.hideLabels&&s.classList.add("sr-only")},_addInputsAttributes(t,e,i){const s=t.querySelector("input");s.setAttribute("id",i),s.classList.add(e.cssClass)},_handleSeparatorDisplay(t,e,i){[{D:"day",M:"month",Y:"year"}[e],e].indexOf(this.options.hideField)>-1&&(t.classList.add("hidden"),2===i&&(t.parentNode.querySelector(".hsf-date-input-wrapper:nth-child(2) .hsf-date-input-separator").style.display="none"))},_handleNonNumericInputs(t,e,i,s,n,a){void 0!==a.xfaWidget.numericInput&&(i.numericInputWidget=s.numericInput(n[e]).data("xfaWidget-numericInput"),s.css("position","relative"),"Y"===e&&2===i.numericInputWidget.options.combCells&&s.on("focus",(()=>{this._shortDateInput(s)})),this._bindXfaEvents(t,i,e,a))},_addZeroToSingleNumber(t,e){this.options.value=this.getCommitValue();const i=t.numericInputWidget.option("value");t.value=i,("Y"===e&&2===t.numericInputWidget.options.combCells&&1===i.length||("M"===e||"D"===e)&&1===i.length)&&(t.value="0".concat(i)),t.numericInputWidget.option("displayValue",t.value)},_bindXfaEvents(t,e,s,n){n(t).on(i.XFA_EXIT_EVENT,(()=>{this._addZeroToSingleNumber(e,s),this.element.trigger(i.XFA_CHANGE_EVENT),this.element.trigger(i.XFA_EXIT_EVENT)})).on(i.XFA_CHANGE_EVENT,(t=>{t.stopPropagation()}))},_modifyWrapper(t,e,i,s){const n=t(i).find("input"),a=this.combFieldOrder[s],o=this._getCombFieldControl(s),r=o.cssClass+(new Date).getTime();i.classList.add("comb-datefield"),this._handleLabelForCombField(i,o,r),this._addInputsAttributes(i,o,r),this._handleSeparatorDisplay(i,a,s),this._waitUntilLoaded(a,o,n,i),this._handleNonNumericInputs(i,a,o,n,e,t)},_initializeCombFields(){const{$:t}=e,i=this,s=this._getAllcombFieldOptions();this.separator=this.options.dateFormat.match(/^date\{.*([^mdy]).*\}$/i)[1],this.combFieldControls=this._getAllcombFieldControls(),this.element.find("[data-dateInput-wrapper]").each(((e,n)=>{i._modifyWrapper(t,s,n,e)}))},render(){return this.combFieldOrder=this._getFieldOrder(this.options.dateFormat),this._initializeCombFields(),this.element},getCommitValue(){const t=this._getConcatenatedValue(),e=this._parseDate(t);return void 0===e?t:e},getOptionsMap(){const t=s._proto.getOptionsMap();return this.options.role="group",delete t.tabIndex,t}})}),window.pwsUtils,(()=>void 0===xfalib.$.xfaWidget.dateInputWidget||void 0===guidelib.view.GuideFieldView));const s="aria-disabled",n="disabled",a="readonly";(new t).init((()=>{!function(){const{xfalib:t,$:e,guidelib:i}=window,{XfaCheckBox:o}=t.$.xfaWidget,{GuideCheckBox:r}=i.model;_.extend(o.prototype,{getOptionsMap(){const t=o._proto.getOptionsMap.apply(this,arguments);return e.extend({},t,{access(t){switch(t){case"open":this.$userControl.removeAttr(n),this.$userControl.removeAttr(s);break;case"nonInteractive":case"protected":case"readOnly":this.$userControl.addClass(n),this.$userControl.attr(s,"true"),this.$userControl.click((t=>{t.preventDefault()}));break;default:this.$userControl.removeAttr(n),this.$userControl.removeAttr(s),this.$userControl.removeAttr(a)}}})}}),_.extend(r.prototype,{_runValidations(t){r._super._runValidations.call(this,t);const{_value:e,minSelected:i,maxSelected:s,mandatoryMessage:n}=this.jsonModel;let a=!1;if(e){const t=e.split(",").length;t&&(i&&t<parseInt(i,10)&&(a=!0),s&&t>parseInt(s,10)&&(a=!0))}else i&&(a=!0);a&&(t.validFlag=!1,this._errorText=n)}})}()}),window.pwsUtils),(new t).init((function(){guideBridge.on("elementNavigationChanged",(()=>{window.$||(window.$=window.$||window.jQuery||(window.Bootstrap?window.Bootstrap.jQuery:null))}))})),(new t).init((()=>{!function(t){const e=xfalib.ut.XfaUtil.prototype,i="input, select",s="aria-required",n="aria-invalid",a="validation-failure";t.widget("xfaWidget.groupedInputWidget",t.xfaWidget.textField,{_widgetName:"groupedInputWidget",_initializeCombFields:function(){const s=this,n=this.element.find(i);setTimeout((()=>{s.options.value=s.getCommitValue(),s.element.trigger(e.XFA_CHANGE_EVENT),s.element.trigger(e.XFA_EXIT_EVENT)}),100),n.each((function(){const i=t(this);i.on("blur",(()=>{s._isValid()?(s.options.value=s.getCommitValue(),s._setInputsValid(),s.element.trigger(e.XFA_CHANGE_EVENT),s.element.trigger(e.XFA_EXIT_EVENT)):(s.options.value=s.getCommitValue(),s._setInputsInvalid(),s._showNotification(),guideBridge.resolveNode(s.element.attr("name")).validate(),s.element.trigger(e.XFA_CHANGE_EVENT),s.element.trigger(e.XFA_EXIT_EVENT))})).on(e.XFA_CHANGE_EVENT,(t=>{t.stopPropagation()}));const n=i.attr("data-maxchars");n&&i.on("input",(t=>{i.val(t.target.value.slice(0,n))}))}))},_setInputsWidth:function(){let t,e;if(this.element.attr("data-same-width")){const s=12/this.element.find(i).length;t=this.prefixInput.length?s:0,e=this.suffixInput.length?s:0}else t=this._getWidth(this.prefixInput),e=this._getWidth(this.suffixInput);this._setInputWrapperWidth(this.prefixInput,t),this._setInputWrapperWidth(this.suffixInput,e),this._setInputWrapperWidth(this.mainInput,12-t-e)},_removeTabIndex:function(){setTimeout((()=>{this.element.find(".hsf-grouped-input").eq(0).removeAttr("tabindex")}),100)},_setInputWrapperWidth:function(t,e){t&&e>0&&t.closest(".hsf-grouped-input-wrapper").addClass("col-xs-".concat(e))},_getWidth:function(t){return t.length?t.attr("data-length"):0},_showNotification:function(){const t="hsf-global-error-container",e="".concat(t,"--active"),i=document.querySelector(".".concat(t));i&&i.classList.add(e)},_setInputsInvalid:function(){this.guideNode.addClass(a),this._handleInputRequired(this.prefixInput),this._handleInputRequired(this.mainInput),this._handleInputRequired(this.suffixInput)},_setInputsValid:function(){this.guideNode.removeClass(a),this._setInputValid(this.prefixInput),this._setInputValid(this.mainInput),this._setInputValid(this.suffixInput)},_setInputValid:function(t){t&&t.attr(n,!1)},_handleInputRequired:function(t){t&&!t.val()?t.attr(n,!0):t&&t.val()&&t.attr(n,!1)},_isRequired:function(){return"true"===this.guideNode.attr("data-mandatory")},_validateRequired:function(){return!this._isRequired()||this._getInputVal(this.prefixInput)&&this._getInputVal(this.mainInput)&&this._getInputVal(this.suffixInput)},_getInputVal:function(t){return t.is("input")?t.val():t.find(":selected").text()},_isValid:function(){return this._validateRequired()},showDisplayValue:function(){return this.getCommitValue()},render:function(){return this.prefixInput=this.element.find(".prefix").find(i),this.mainInput=this.element.find(".main").find(i),this.suffixInput=this.element.find(".suffix").find(i),this.guideNode=this.element.parent(".guideFieldNode"),this._setInputsWidth(),this._initializeCombFields(),this._removeTabIndex(),this.element.find(i)[0]},getCommitValue:function(){let t="";if(this.prefixInput&&!this._getInputVal(this.prefixInput)||this.mainInput&&!this._getInputVal(this.mainInput)||this.suffixInput&&!this._getInputVal(this.suffixInput))return t;const e=this.getSeparator();return this.prefixInput&&this._getInputVal(this.prefixInput)&&(t+=this._getInputVal(this.prefixInput)),this.mainInput&&this._getInputVal(this.mainInput)&&(t+="".concat(e).concat(this._getInputVal(this.mainInput))),this.suffixInput&&this._getInputVal(this.suffixInput)&&(t+="".concat(e).concat(this._getInputVal(this.suffixInput))),t},getSeparator:function(){return this.element.find(".hsf-grouped-input-separator").first().text().trim()||" "},getOptionsMap:function(){const e=t.xfaWidget.abstractWidget.prototype.getOptionsMap.apply(this,arguments);return t.extend({},e,{mandatory:function(t){t?this.element.attr(s,!0):this.element.removeAttr(s)},isValid:function(){this._isValid()?this._setInputsValid():this._setInputsInvalid()}})},getEventMap:function(){}})}(window.$||window.jQuery)}))}();